{
  "id": "agenr",
  "name": "agenr Memory",
  "description": "Local memory layer - injects agenr context at session start",
  "skills": [
    "skills"
  ],
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "agenrPath": {
        "type": "string",
        "description": "Path to agenr CLI entry point (dist/cli.js)."
      },
      "budget": {
        "type": "number",
        "description": "Token budget for session-start recall. Default: 2000."
      },
      "project": {
        "type": "string",
        "description": "Project scope for recall and store. Omit for global (default)."
      },
      "enabled": {
        "type": "boolean",
        "description": "Set false to disable memory injection without uninstalling."
      },
      "signalMinImportance": {
        "type": "number",
        "description": "Minimum importance for mid-session signals (1-10, default: 8). Raise to reduce noise."
      },
      "signalMaxPerSignal": {
        "type": "number",
        "description": "Max entries per signal notification (default: 3)."
      },
      "signalCooldownMs": {
        "type": "number",
        "description": "Minimum ms between signal batches per session (default: 30000). Set 0 to disable cooldown."
      },
      "signalMaxPerSession": {
        "type": "number",
        "description": "Max total signal batches delivered per session lifetime (default: 10). Set 0 to disable."
      },
      "signalMaxAgeSec": {
        "type": "number",
        "description": "Only surface entries created within last N seconds (default: 300). Set 0 to disable age filter."
      },
      "signalsEnabled": {
        "type": "boolean",
        "description": "Set false to disable mid-session signals without uninstalling."
      },
      "midSessionRecall": {
        "type": "object",
        "description": "Mid-session recall tuning and controls.",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean",
            "description": "Set false to disable heuristic-gated mid-session recall (default: true)."
          },
          "normalLimit": {
            "type": "number",
            "description": "Max recall results for normal messages (default: 5)."
          },
          "complexLimit": {
            "type": "number",
            "description": "Max recall results for complex messages (default: 8)."
          },
          "querySimilarityThreshold": {
            "type": "number",
            "description": "Skip repeat recall when query Jaccard similarity exceeds this value (default: 0.85)."
          }
        }
      },
      "dbPath": {
        "type": "string",
        "description": "Path to agenr DB. Defaults to AGENR_DB_PATH env or ~/.agenr/knowledge.db."
      },
      "sessionsDir": {
        "type": "string",
        "description": "Path to OpenClaw sessions directory. Defaults to ~/.openclaw/agents/{agentId}/sessions."
      },
      "handoff": {
        "type": "object",
        "description": "Handoff summarizer options.",
        "additionalProperties": false,
        "properties": {
          "includeBackground": {
            "type": "boolean",
            "description": "Include prior session as background context in handoff summary (default: false)."
          },
          "logEnabled": {
            "type": "boolean",
            "description": "Enable writing handoff LLM request/response logs to logDir (default: false)."
          },
          "logDir": {
            "type": "string",
            "description": "Directory to write handoff LLM request/response logs for debugging. Requires logEnabled: true."
          }
        }
      }
    }
  }
}
